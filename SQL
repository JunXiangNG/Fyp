CREATE TABLE brand (
  brand_id INT PRIMARY KEY AUTO_INCREMENT,
  brand_name VARCHAR(50) NOT NULL,
  brand_code VARCHAR(5) NOT NULL
);

CREATE TABLE product (
  product_id INT PRIMARY KEY AUTO_INCREMENT,
  brand_id INT NOT NULL,
  product_name VARCHAR(100) NOT NULL,
  product_description VARCHAR(100) NOT NULL,
  product_code VARCHAR(20) NOT NULL,
  FOREIGN KEY (brand_id) REFERENCES brand (brand_id)
);

CREATE TABLE product_details (
  product_details_id VARCHAR(20) PRIMARY KEY,
  product_id INT NOT NULL,
  product_color VARCHAR(20) NOT NULL,
  product_size DECIMAL(5,2) NOT NULL,
  product_quantity INT NOT NULL,
  product_gender VARCHAR(10) NOT NULL,
  product_image LONGBLOB NOT NULL,  
  product_price DECIMAL(10,2) NOT NULL,
  product_status VARCHAR(30),
  FOREIGN KEY (product_id) REFERENCES product (product_id)
);


CREATE TABLE users (
user_id int NOT NULL PRIMARY KEY AUTO_INCREMENT,
username varchar(255) NOT NULL,
gender char(10)  NOT NULL,
birthday date not null,
email varchar(255) NOT NULL,
password varchar(255) NOT NULL,
question varchar(255) NOT null,
answer varchar(255) Not null
);


CREATE TABLE orders (
    order_id INT PRIMARY KEY AUTO_INCREMENT,
    product_id INT NOT NULL,
    username VARCHAR(255) NOT NULL, 
     product_image LONGBLOB NOT NULL, 
    product_name VARCHAR(50) NOT NULL,
    product_price DECIMAL(10, 2) NOT NULL,
    user_size DECIMAL(4, 1) NOT NULL,
    user_color VARCHAR(20) NOT NULL,
    user_quantity INT NOT NULL, 
    total_cost DECIMAL(10, 2) NOT NULL,
    order_status VARCHAR(50) NOT NULL DEFAULT 'Pending',
    FOREIGN KEY (product_id) REFERENCES product(product_id)
);

CREATE TABLE checkout (
  checkout_id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
  user_id int not null,
  order_id INT NOT NULL,
  received_name VARCHAR(255) NOT NULL,
  phone VARCHAR(20) NOT NULL,
  address VARCHAR(255) NOT NULL,
  town_city VARCHAR(255) NOT NULL,
  state_province VARCHAR(255) NOT NULL,
  zip_postalcode VARCHAR(255) NOT NULL,
  card_name VARCHAR(255) NOT NULL,
  card_number VARCHAR(255) NOT NULL,
  card_expire VARCHAR(10) NOT NULL,
  cvv VARCHAR(10) NOT NULL,
  FOREIGN KEY (order_id) REFERENCES orders(order_id),
  FOREIGN KEY (user_id) REFERENCES users(user_id)
);

CREATE TABLE review (
  id INT(6) UNSIGNED AUTO_INCREMENT PRIMARY KEY,
  username varchar(255) NOT NULL, 
  comment TEXT NOT NULL,
  rating INT(1) NOT NULL
);
